(function(){"use strict";var e={3735:function(e,n,t){var o=t(5130),r=t(1387),i=t(6768);function s(e,n,t,o,r,s){const u=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(u)])}var u={name:"App"},a=t(1241);const l=(0,a.A)(u,[["render",s]]);var c=l;function d(e,n,t,o,r,s){const u=(0,i.g2)("router-link"),a=(0,i.g2)("WebSocketComponent");return(0,i.uX)(),(0,i.CE)("div",null,[n[5]||(n[5]=(0,i.Lk)("h1",null,"테스트 시티 홈",-1)),(0,i.Lk)("nav",null,[(0,i.bF)(u,{to:"/scene1",onClick:s.playScene1Audio},{default:(0,i.k6)((()=>n[0]||(n[0]=[(0,i.eW)("Scene 1")]))),_:1},8,["onClick"]),n[3]||(n[3]=(0,i.eW)(" | ")),(0,i.bF)(u,{to:"/scene2"},{default:(0,i.k6)((()=>n[1]||(n[1]=[(0,i.eW)("Scene 2")]))),_:1}),n[4]||(n[4]=(0,i.eW)(" | ")),(0,i.bF)(u,{to:"/scene3"},{default:(0,i.k6)((()=>n[2]||(n[2]=[(0,i.eW)("Scene 3")]))),_:1})]),(0,i.bF)(a)])}var m=t(4232);const p={id:"upper-half"},h={key:0,id:"nameForm"},f={key:1,id:"greeting"},k={id:"lower-half"},g={id:"log",ref:"log"};function v(e,n,t,r,s,u){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",p,[s.userName?((0,i.uX)(),(0,i.CE)("h2",f,"Hello "+(0,m.v_)(s.userName),1)):((0,i.uX)(),(0,i.CE)("div",h,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>s.nameInput=e),onKeypress:n[1]||(n[1]=(0,o.jR)(((...e)=>u.submitName&&u.submitName(...e)),["enter"])),placeholder:"이름을 입력하세요"},null,544),[[o.Jo,s.nameInput]]),(0,i.Lk)("button",{onClick:n[2]||(n[2]=(...e)=>u.submitName&&u.submitName(...e))},"제출")])),n[3]||(n[3]=(0,i.Lk)("div",{id:"messages"},null,-1))]),(0,i.Lk)("div",k,[(0,i.Lk)("div",g,null,512)])])}var b={name:"WebSocketComponent",data(){return{socket:null,userName:"",nameInput:"",logElement:null}},methods:{log(e){this.logElement?(this.logElement.innerHTML+=e+"\n",this.logElement.scrollTop=this.logElement.scrollHeight):console.log(e)},connect(){this.socket=new WebSocket("https://imoment-node-server-heroku-178f19c891f3.herokuapp.com/"),this.socket.onopen=()=>{this.log("웹소켓 연결 성공"),setInterval((()=>{this.socket.readyState===WebSocket.OPEN&&(this.socket.send(JSON.stringify({type:"ping"})),this.log("핑 메시지 전송"))}),3e4)},this.socket.onmessage=e=>{"ping"===e.data?(this.socket.send(JSON.stringify({type:"pong"})),this.log("서버로 부터 Ping 수신 - 퐁 메시지 전송")):"updateClients"===e.data?this.log("클라이언트 목록 업데이트 요청 수신"):(document.getElementById("messages").innerHTML+="<p>"+e.data+"</p>",this.log(`메시지 수신: ${e.data}`))},this.socket.onclose=()=>{this.log("WebSocket 연결이 닫혔습니다. 재연결 시도 중..."),setTimeout(this.connect,3e3)}},submitName(){this.nameInput&&(this.userName=this.nameInput,this.socket.send(JSON.stringify({type:"name",name:this.userName})),this.log(`이름 전송: ${this.userName}`))}},mounted(){this.logElement=this.$refs.log,this.connect()},beforeUnmount(){this.socket&&this.socket.close()}};const y=(0,a.A)(b,[["render",v],["__scopeId","data-v-f8031c56"]]);var S=y,E={name:"HomeView",components:{WebSocketComponent:S},methods:{playScene1Audio(){}}};const L=(0,a.A)(E,[["render",d]]);var w=L;const C={class:"scene1-container"},_={ref:"audioPlayer",loop:""};function N(e,n,t,o,r,s){const u=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",C,[n[2]||(n[2]=(0,i.Lk)("h1",{class:"scene-title"},"Scene 1",-1)),n[3]||(n[3]=(0,i.Lk)("img",{src:"/images/train.png",alt:"Train",class:"train-image"},null,-1)),n[4]||(n[4]=(0,i.Lk)("div",{class:"content"},[(0,i.Lk)("p",null,"여기에 Scene 1의 내용을 넣으세요.")],-1)),(0,i.bF)(u,{to:"/",class:"home-link"},{default:(0,i.k6)((()=>n[0]||(n[0]=[(0,i.eW)("홈으로")]))),_:1}),(0,i.Lk)("audio",_,n[1]||(n[1]=[(0,i.Lk)("source",{src:"/audio/bgm.mp3",type:"audio/mpeg"},null,-1),(0,i.eW)(" Your browser does not support the audio element. ")]),512)])}var O={name:"Scene1View",mounted(){this.playAudio()},methods:{playAudio(){const e=this.$refs.audioPlayer;e.volume=.8,e.play().catch((()=>{console.log("Auto-play was prevented. Please enable auto-play in your browser settings.")}))}}};const W=(0,a.A)(O,[["render",N],["__scopeId","data-v-09eadef2"]]);var A=W;function F(e,n,t,o,r,s){const u=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[n[1]||(n[1]=(0,i.Lk)("h1",null,"Scene 2",-1)),(0,i.bF)(u,{to:"/"},{default:(0,i.k6)((()=>n[0]||(n[0]=[(0,i.eW)("홈으로")]))),_:1})])}var I={name:"Scene2View"};const X=(0,a.A)(I,[["render",F]]);var j=X;function P(e,n,t,o,r,s){const u=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[n[1]||(n[1]=(0,i.Lk)("h1",null,"Scene 3",-1)),(0,i.bF)(u,{to:"/"},{default:(0,i.k6)((()=>n[0]||(n[0]=[(0,i.eW)("홈으로")]))),_:1})])}var T={name:"Scene3View"};const x=(0,a.A)(T,[["render",P]]);var H=x;const V=(0,r.aE)({history:(0,r.LA)("/lacuna/"),routes:[{path:"/",component:w},{path:"/scene1",component:A},{path:"/scene2",component:j},{path:"/scene3",component:H}]});(0,o.Ef)(c).use(V).mount("#app")}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={exports:{}};return e[o].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(n,o,r,i){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],i=e[c][2];for(var u=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(t.O).every((function(e){return t.O[e](o[a])}))?o.splice(a--,1):(u=!1,i<s&&(s=i));if(u){e.splice(c--,1);var l=r();void 0!==l&&(n=l)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,r,i]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,i,s=o[0],u=o[1],a=o[2],l=0;if(s.some((function(n){return 0!==e[n]}))){for(r in u)t.o(u,r)&&(t.m[r]=u[r]);if(a)var c=a(t)}for(n&&n(o);l<s.length;l++)i=s[l],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},o=self["webpackChunkimoment_city_client"]=self["webpackChunkimoment_city_client"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(3735)}));o=t.O(o)})();
//# sourceMappingURL=app.c12532e5.js.map